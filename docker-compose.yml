version: "3.4"
services:
  node:
    container_name: lumiary
    build:
      context: .
      target: development

    # command: [ "npm", "run", "vendor" ]

    # Run tests:
    # command: ["npm", "run", "test" ]
    # command: ["npm", "run", "test:local" ]
    # command: ["npm", "run", "test:watch" ]
    # command: ["npm", "run", "test:coverage"]
    # command: ["npm", "run", "test:snapshot"]

    # Storybook:
    # command: ["npm", "run", "storybook"]

    ports:
      - "9000:9000"
      - "9090:9090"
    volumes:
      - .:/application
      - /application/node_modules
    environment:
      PORT: 9000
      NODE_ENV: 'development'
      # API_ROOT: 'https://azazzle-local.quickframe.com:8081'
      API_ROOT:  'https://azazzle.staging.quickframe.com'
      API_VERSION: 'v1'
      MEDIA_URL: 'https://s3.amazonaws.com/quickframe-media-staging/'
      QAPI_ROOT: 'https://api-local.quickframe.com:8080'
      QAPI_VERSION: 'v1'
      STATIC_URL: 'https://s3.amazonaws.com/quickframe-static-dev/'
      AWS_ACCESS_KEY_ID: 'AKIAIILRAYHRCIOFIR4Q'
      AWS_SECRET_ACCESS_KEY: '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'
      AWS_DEFAULT_REGION: 'us-east-1'
      BASENAME: '/'
      REDIS_HOST: 'redis'
      AWS_S3_MEDIA_BUCKET: 'quickframe-media-staging'
      INSTAGRAM_CLIENT_ID: 'INSTAGRAM_CLIENT_ID'
      INSTAGRAM_REDIRECT_URI: 'INSTAGRAM_REDIRECT_URI'
      INSTAGRAM_RESPONSE_TYPE: 'INSTAGRAM_RESPONSE_TYPE'
      GOOGLE_CLIENT_ID: '410840184484-9ljsun49l3ue4l99sl41u2k4lipleb2o.apps.googleusercontent.com'
      GOOGLE_API_KEY: 'AIzaSyCG2hOoLzZfV-163zq73nxuZpwWuoxobkE'
      GOOGLE_SCOPE: 'https://www.googleapis.com/auth/yt-analytics.readonly https://www.googleapis.com/auth/yt-analytics-monetary.readonly https://www.googleapis.com/auth/adwords'
      GOOGLE_DISCOVERY_DOCS: '["https://www.googleapis.com/discovery/v1/apis/youtubeAnalytics/v1/rest"]'
      FACEBOOK_APP_ID: 'FACEBOOK_APP_ID'
      TWITTER_OAUTH_NONCE: 'K7ny27JTpKVsTgdyLdDfmQQWVLERj2zAK5BslRsqyw'
      TWITTER_OAUTH_CALLBACK: 'http%3A%2F%2Fmyapp.com%3A3005%2Ftwitter%2Fprocess_callback'
      TWITTER_OAUTH_SIGNATURE_METHOD: 'HMAC-SHA1'
      TWITTER_OAUTH_TIMESTAMP: '1300228849'
      TWITTER_OAUTH_CONSUMER_KEY: 'OqEqJeafRSF11jBMStrZz'
      TWITTER_OAUTH_SIGNATURE: 'Pc%2BMLdv028fxCErFyi8KXFM%2BddU%3D'
      TWITTER_OAUTH_VERSION: '1.0'
  redis:
    image: redis
    ports:
      - "6381:6379"
